use xk;
/*单表查询*/
/*select 列名 form 表名 where 筛选条件（有没有条件?有几个筛选条件？多个条件之间是什么逻辑关系（与或非异或；识别是否存在差异，差异存在，True不存在差异；False)
异或:识别是否存在差异，差异存在:True;反之False
同或:识别是否存在差异，不差异存在:True，反正False
*/
 /*
 纵列:属性(公共的,提炼的)，字段；
 横行：一个具体的，真实的人，物，机构，记录
 select 纵列
 from
 where 横行
 */
 /*查询class表中的全部数据
 select *
 from class*/
 /*查询class表中的所有班级名称
 select ClassName
 from class
 */
 /*查询Class表中 00建筑管理班的班级序号
 select classno
 from class
 where classname="00建筑管理"
 */
 /*查询
 select classno,DepartNo 
 from class
 where classname="00建筑管理"
 */
 /*查询class表中 00建筑管理班的所有信息
  select *
 from class
 where classname="00建筑管理"
 */
 /*模糊查询，字符查询时常用的like与通配符%配合使用
 查询class表中建筑管理专业所有的班级的班级名称
 select classname
 from class
 where classname like "%建筑管理"
 */
 /*模拟查询的场景，一个长字符中，任意位置出现指定的关键字:%关键字
  select *
 from class
 where classname like "%建筑%"
 */
 /*在student的表中去查询姓张的同学的全部信息
 select *
 from student
 where stuname like "张%"
 在student的表中，查询名字中有’晓‘字的同学信息
  select *
 from student
 where stuname like "%晓%"
 
 在student的表中，查询名字中最后一个字是’晓‘字的同学信息
  select *
 from student
 where stuname like "%晓"
 
 在student的表中，查询名字中间有’晓‘字的同学信息
  select *
 from student
 where stuname like "_晓_"
 */
 /*给列名 取别名；会不会修改表结构中列的原来的名字
select stuno as 学号,stuname as 学生姓名,classno as 班级编号,pwd as 密码,photo as 登记照 from student;
消除查询结果中的重复行
出现cource表中的课程类别
select *
from course;

select distinct kind
from course;

select distinct kind,credit
from course;
*/

/*查询学生表中前6位学生的学习
select *
from student limit 6;
*/
/*查询学生表中第七位开始的共10名同学的信息
select *
from student limit 6,10;
*/
/*
基础逻辑运算,与and 或or 非not */
select *
from course
where credit=2.0 and kind="信息技术";

/*显示 是信息技术类别，或者学分是2分的课程信息*/
select *
from course
where credit=2.0 or kind="信息技术";

select *
from course
where not credit=2.0 or kind="信息技术";

select *
from course
order by convert(teacher using gbk);
/*算数运算*/
select 5+6,5-6,5*6,5/6,5%6;
/*比较运算符
查询 报名人数小于等于25， 大于等于15 的课程信息
注意：怎么念，怎么敲；符号间没有空格的。
*/
select *
from course
where willnum >= 15 and willnum <= 25;

/*between 小数值 and 大数值。颠倒大小顺序，不对*/
select *
from course
where willnum between 15 and 25;

/*查询 表明人数要么大于25，要么小于15的课程信息*/
select *
from course
where willnum not between 15 and 25;

select *
from course
where willnum >25 or willnum < 15;

/*查询 课程编号为001 004 007 017 018 的课程名称 课程号*/
select couno,couname
from course
where couno in ('001', '004', '007', '017', '018');

/*查询 课程编号不为001 004 007 017 018 的课程名称 课程号*/
select couno,couname
from course
where couno not in ('001', '004', '007', '017', '018');

/* 位运算符： 针对二进制数的运算。
M进制:有M个状态；
状态数越少，状态与状态之间，就越不容易混淆
抗干扰能力更强 更可靠

状态个数越多，单个状态携带的信息量大 */
select bin(3), bin(6), 3&6, bin(3&6), bin(3|6) ;
/*     3: 11s
       6: 110
按位与    010 
       7: 111
       3: 11
       6: 110
按位或    111         */

/*左移 右移 显示 7 按位右移2位的结果*/
select bin(7), bin(7>>2);
/*右移2位 111 变成 1
左移2位 111 变成 11100*/

/*排序： 1 排序代码最后
         2 排序的代码，只需要1句
         3 在这一句排序代码中，可以有多个排序标准的
         4 中文可以排序，可能需要convert函数，转一下编码规则
         编码规则：人类语言字符-----01编码
         常见的编码规则: utf-8-sig 通用的，包含几乎所有人类语言字符 gbk,gbk2312*/

/*查询课程信息，安装报名人数 升序排序*/
select *
from course
order by willnum desc;

/*查询课程信息
结果先按学分升序，当学分相同时，按照课程编号升序排列*/
select *
from course
order by credit,couno;

/*中文排序: 查看课程信息，要求按照教师姓名，升序*/
select *
from course
order by convert(teacher using gbk);

/*查询 课表的课程信息，显示报名人数与限选人数之比*/
select *,willnum/limitnum
from course;

/* 替换查询结果中的列值: 具备扩展功能的，好用在课程表中，查询课程名称，学分。
如果，学分=1，显示 每两周上2节课                       
学分=2，显示 每周上2节课
学分=3，显示 每周上3节课
否则 显示 待定 */
select Classname,DepartNo,
       case
           when DepartNo=1.0 then '每两周上2节课'
           when DepartNo=2.0 then '每周上2节课'
           when DepartNo=3.0 then '每周上3节课'
           else '待定'
       end as '安排'
from class
order by classno,classname desc;
select Classname,DepartNo,
       case
           when DepartNo=1.0 then '每两周上2节课'
           when DepartNo=2.0 then '每周上2节课'
           when DepartNo=3.0 then '每周上3节课'
           else '待定'
       end as '安排'
from class
order by classno,convert(classname using gbk) desc;

/* 7 查看 "张""陈""黄"同学们的基本信息，
要求按照名字降序排序查询结果*/

select *
from student
where stuname like '张%' or stuname like '陈%'
      or stuname like '黄%'
order by convert(stuname using gbk) desc;